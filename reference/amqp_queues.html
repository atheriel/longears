<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Declare or Delete Queues — amqp_queues • longears</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Declare or Delete Queues — amqp_queues" />
<meta property="og:description" content="AMQP queues store messages that can be consumed by clients. They must be
declared before use and bound to an
exchange so that messages can be routed to them.
The amqp_declare_tmp_queue() function is a shortcut for declaring a
non-durable (also called &quot;transient&quot;) queue with a server-generated name.
Both amqp_declare_queue() and amqp_delete_queue() will raise
errors if there is a problem declaring/deleting the queue." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">longears</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/atheriel/longears/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Declare or Delete Queues</h1>
    <small class="dont-index">Source: <a href='https://github.com/atheriel/longears/blob/master/R/queue.R'><code>R/queue.R</code></a></small>
    <div class="hidden name"><code>amqp_queues.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>AMQP queues store messages that can be consumed by clients. They must be
declared before use and <a href='amqp_bindings.html'>bound</a> to an
<a href='amqp_exchanges.html'>exchange</a> so that messages can be routed to them.</p>
<p>The <code>amqp_declare_tmp_queue()</code> function is a shortcut for declaring a
non-durable (also called "transient") queue with a server-generated name.</p>
<p>Both <code>amqp_declare_queue()</code> and <code>amqp_delete_queue()</code> will raise
errors if there is a problem declaring/deleting the queue.</p>
    </div>

    <pre class="usage"><span class='fu'>amqp_declare_queue</span><span class='op'>(</span><span class='va'>conn</span>, queue <span class='op'>=</span> <span class='st'>""</span>, passive <span class='op'>=</span> <span class='cn'>FALSE</span>, durable <span class='op'>=</span> <span class='cn'>FALSE</span>,
  exclusive <span class='op'>=</span> <span class='cn'>FALSE</span>, auto_delete <span class='op'>=</span> <span class='cn'>FALSE</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>amqp_declare_tmp_queue</span><span class='op'>(</span><span class='va'>conn</span>, passive <span class='op'>=</span> <span class='cn'>FALSE</span>, exclusive <span class='op'>=</span> <span class='cn'>FALSE</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>amqp_delete_queue</span><span class='op'>(</span><span class='va'>conn</span>, <span class='va'>queue</span>, if_unused <span class='op'>=</span> <span class='cn'>FALSE</span>, if_empty <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>conn</th>
      <td><p>An object returned by <code><a href='amqp_connections.html'>amqp_connect</a></code>.</p></td>
    </tr>
    <tr>
      <th>queue</th>
      <td><p>The name of a queue. If this is empty (the default), the server
will generate a random name for the queue itself.</p></td>
    </tr>
    <tr>
      <th>passive</th>
      <td><p>When <code>TRUE</code>, raise an error if the queue does not already
exist.</p></td>
    </tr>
    <tr>
      <th>durable</th>
      <td><p>When <code>TRUE</code>, the queue will persist between server
restarts.</p></td>
    </tr>
    <tr>
      <th>exclusive</th>
      <td><p>When <code>TRUE</code>, the queue will only be accessible to the
current connection, and will be deleted when that connection closes.</p></td>
    </tr>
    <tr>
      <th>auto_delete</th>
      <td><p>When <code>TRUE</code>, the queue is automatically deleted when
all consumers have finished with it (i.e. their connections have closed).
This does not come into effect until the queue has at least one consumer.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments, used to declare broker-specific AMQP
extensions. See <strong>Details</strong>.</p></td>
    </tr>
    <tr>
      <th>if_unused</th>
      <td><p>Delete the queue only if it is unused.</p></td>
    </tr>
    <tr>
      <th>if_empty</th>
      <td><p>Delete the queue only if it is empty.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>amqp_declare_tmp_queue()</code> will return the name of the new,
  temporary queue, while <code>amqp_declare_queue()</code> will return an object
  containing some additional information.</p>
<p><code>amqp_delete_queue()</code> will return the number of messages in the
  queue when it was deleted, invisibly.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Additional arguments can be used to declare broker-specific extensions. An
incomplete list is as follows:</p>
<dl>

  <dt><code>"x-dead-letter-exchange"</code></dt><dd><p>Specify a
    <a href='https://www.rabbitmq.com/dlx.html'>dead letter exchange</a> for the
    queue.</p></dd>

  <dt><code>"x-dead-letter-routing-key"</code></dt><dd><p>Specify a
    <a href='https://www.rabbitmq.com/dlx.html'>dead letter routing key</a> for the
    queue.</p></dd>

  <dt><code>"x-expires"</code></dt><dd><p>Specify a queue
    <a href='https://www.rabbitmq.com/ttl.html'>expiration</a>, in seconds.</p></dd>

  <dt><code>"x-max-length"</code></dt><dd><p>Specify the
    <a href='https://www.rabbitmq.com/maxlength.html'>maximum number of messages</a>
    to store in the queue before it overflows.</p></dd>

  <dt><code>"x-max-length-bytes"</code></dt><dd><p>Specify the
    <a href='https://www.rabbitmq.com/maxlength.html'>total number of bytes</a>
    that messages can take up in the queue before it overflows.</p></dd>

  <dt><code>"x-max-priority"</code></dt><dd><p>Specify the
    <a href='https://www.rabbitmq.com/priority.html'>maximum priority</a>
    supported by the queue.</p></dd>

  <dt><code>"x-message-ttl"</code></dt><dd><p>Specify a message
    <a href='https://www.rabbitmq.com/ttl.html'>time-to-live</a>, in seconds.</p></dd>

  <dt><code>"x-overflow"</code></dt><dd><p>Specify queue
    <a href='https://www.rabbitmq.com/maxlength.html'>overflow behaviour</a>.
    Either <code>"drop-head"</code> (the default) or <code>"reject-publish"</code>.</p></dd>

  <dt><code>"x-queue-mode"</code></dt><dd><p>Specify queue
    <a href='https://www.rabbitmq.com/lazy-queues.html'>mode</a>. Either
    <code>"normal"</code> (the default) or <code>"lazy"</code>.</p></dd>

  <dt><code>"x-single-active-consumer"</code></dt><dd><p>Specify that the queue can only
    have a <a href='https://www.rabbitmq.com/consumers.html#single-active-consumer'>single active consumer</a>.</p></dd>


</dl>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='r-in'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span></span>
<span class='r-in'><span class='va'>conn</span> <span class='op'>&lt;-</span> <span class='fu'><a href='amqp_connections.html'>amqp_connect</a></span><span class='op'>(</span><span class='op'>)</span></span>
<span class='r-in'><span class='fu'>amqp_declare_queue</span><span class='op'>(</span><span class='va'>conn</span>, <span class='st'>"test.queue"</span>, auto_delete <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></span>
<span class='r-in'><span class='fu'>amqp_delete_queue</span><span class='op'>(</span><span class='va'>conn</span>, <span class='st'>"test.queue"</span><span class='op'>)</span></span>
<span class='r-in'><span class='fu'><a href='amqp_connections.html'>amqp_disconnect</a></span><span class='op'>(</span><span class='va'>conn</span><span class='op'>)</span></span>
<span class='r-in'><span class='op'>}</span></span>
<span class='r-in'></span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Aaron Jacobs.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


